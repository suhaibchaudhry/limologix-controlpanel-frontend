<div class="page page-form-wizard">
    <!-- page header -->
    <div class="pageheader">
        <h2>{{page.title}} <span> {{page.subtitle}}</span></h2>
        <div class="page-bar">
            <ul class="page-breadcrumb">
                <li>
                    <a ui-sref="app.dashboard"><i class="fa fa-home"></i> {{main.title}}</a>
                </li>
                <li>
                    <a href="javascript:;">Dispatches</a>
                </li>
                <li>
                    <a ui-sref="app.dispatch.dispatch_ride_request">{{page.title}}</a>
                </li>
            </ul>
        </div>
    </div>
    <!-- /page header -->
    <!-- page content -->
    <div class="pagecontent">
        <uib-tabset class="tab-animation tab-container tab-wizard" justified="true" set-ng-animate="true" ng-init="steps={step1:true, step2:false, step3:false, step4:false, step5: false}">
            <uib-tab active="steps.step1">
                <uib-tab-heading>
                    Add a new customer
                    <span class="badge badge-default pull-right wizard-step">1</span>
                </uib-tab-heading>
                <form name="step1" role="form" novalidate class="form-validation" ng-submit="submitForm(step1.$valid);">
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label for="customer_search">Search Existing Customers: </label>
                            <input class="form-control" typeahead-editable="true" uib-typeahead="item.full_name for item in getExistingCustomers($viewValue)| limitTo:10" type="text" class="searchInput" ng-model="search.full_name">
                            <span ng-show="noresults" id="nocustomer"></span>
                        </div>
                    </div>
                    <button type="submit" ng-disabled="step1.$invalid" class="btn btn-default" ng-click="steps.step2=true">Continue w/o new customer</button>
                </form>
                </br>
                <form name="step1" role="form" novalidate class="form-validation" ng-submit="submitForm(step1.$valid);">
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label for="first_name">First Name: </label>
                            <input type="text" name="first_name" id="first_name" class="form-control" ng-model="customerInfo.first_name" required>
                            <p class="help-block">
                                <span ng-show="step1.first_name.$invalid && !step1.first_name.$pristine">First Name is required.</span>
                            </p>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="last_name">Last Name: </label>
                            <input type="text" name="last_name" id="last_name" class="form-control" ng-model="customerInfo.last_name" ng-minlength="3" ng-maxlength="10" required>
                            <p class="help-block">
                                <span ng-show="step1.last_name.$invalid && !step1.last_name.$pristine">Last name is required.</span>
                            </p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-12">
                            <label for="email">Email: </label>
                            <input type="email" name="email" id="email" class="form-control" ng-model="customerInfo.email" ng-pattern="/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/" required>
                            <p class="help-block">
                                <span style="color:red" ng-show="step1.email.$error.pattern">Not valid Email.</span>
                            </p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6 mb-0">
                            <label for="mobile_number">Primary Phone Number: </label>
                            <input type="text" placeholder="+1-541-754-3010" name="mobile_number" id="mobile_number" class="form-control" ng-pattern="phoneNumbr" ng-model="customerInfo.mobile_number" numbers-only required>
                            <p class="help-block">
                                <span style="color:red;" ng-show="step1.mobile_number.$error.minlength">Phone no not less that 10 char.</span>
                                <span style="color:red;" ng-show="step1.mobile_number.$error.maxlength">Phone no not more than 11 char.</span>
                                <br><span style="color:red;" ng-show="step1.mobile_number.$error.pattern">Please match pattern [+1-541-754-3010 || 1-541-754-3010]</span>
                            </p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6 mb-0">
                            <label for="organisation">Organisation: </label>
                            <input type="text" placeholder="Organisation" name="organisation" id="organisation" class="form-control" ng-model="customerInfo.organisation" required>
                            <p class="help-block">
                                <span ng-show="step1.organisation.$invalid && !step1.organisation.$pristine">Organization is required.</span>
                            </p>
                        </div>
                    </div>
                    <button type="submit" ng-disabled="step1.$invalid" class="btn btn-default" ng-click="steps.step2=true">Add a new Customer</button>
                </form>
            </uib-tab>
            <uib-tab active="steps.step2">
                <uib-tab-heading>
                    Dispatch
                    <span class="badge badge-default pull-right wizard-step">2</span>
                </uib-tab-heading>
                <form name="step2" role="form" novalidate>
                    <div class="row">
                        <div class="form-group col-md-4 mb-0">
                            <label for="name">Count:<sup>*</sup> </label>
                            <input type="text" name="pCount" id="pCount" class="form-control" ng-model="customerInfo.pCount">
                            <p class="help-block">
                                <span ng-show="step2.pCount.$invalid && !step2.pCount.$pristine">Count is required.</span>
                            </p>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="form-group col-md-4 mb-0">
                            <label>pick-up Date</label>
                            <div ng-controller="DatepickerDemoCtrl">
                                <div class="input-group w-md">
                                    <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="dt" is-open="opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" />
                                    <span class="input-group-btn">
                                      <button type="button" class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="form-group col-md-4 mb-0">
                            <strong>Pick-up Time</strong>
                            <div class="tile-body" ng-controller="TimepickerDemoCtrl">
                                <uib-timepicker ng-model="mytime" ng-change="changed()" hour-step="1" minute-step="1" show-meridian="ismeridian"></uib-timepicker>
                                <button class="btn btn-sm btn-default" ng-click="clear()">Clear</button>
                                <hr>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6 mb-0">
                            <label><strong>Pick up point</strong></label>
                            <br/>
                            <label for="date">Airport <sup>*</sup></label>
                            <div>
                                <input type="text" name="date" id="date" class="form-control" ng-model="customerInfo.date">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6 mb-0">
                            <label><strong>Drop of point</strong></label>
                            <br/>
                            <label for="date">Adress or Point of Intrest <sup>*</sup></label>
                            <input type="text" name="date" id="date" class="form-control" ng-model="customerInfo.date">
                        </div>
                    </div>
                </form>
            </uib-tab>
        </uib-tabset>
    </div>
    <!-- /page content -->
</div>
